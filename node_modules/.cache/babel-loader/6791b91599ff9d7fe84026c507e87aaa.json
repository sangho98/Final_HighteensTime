{"ast":null,"code":"import _slicedToArray from\"/Users/wk30815/Documents/Code/React/instagram/Final_HighteensTime/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from\"react\";import styled from\"styled-components\";import Tab from\"react-bootstrap/Tab\";import Carousel from\"react-bootstrap/Carousel\";import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";import Nav from\"react-bootstrap/Nav\";import Card from\"react-bootstrap/Card\";import ListGroup from\"react-bootstrap/ListGroup\";import ListGroupItem from\"react-bootstrap/ListGroupItem\";import Container from\"react-bootstrap/Container\";import Button from\"react-bootstrap/Button\";import Image from\"react-bootstrap/Image\";import{LinkContainer}from\"react-router-bootstrap\";import{GetArticle,GetUserInfo}from\"../utils/ApiConfig\";import Table from\"react-bootstrap/Table\";import{Link}from\"react-router-dom\";import Alert from\"react-bootstrap/Alert\";import{Jumbotron,Toast}from\"react-bootstrap\";import{tokenData}from\"../Apollo\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListArticle=function ListArticle(props){var article=props.article;return/*#__PURE__*/_jsxs(Table,{bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{style:{width:\"100%\",textAlign:\"center\"},children:\"\\uC81C\\uBAA9\"})})}),/*#__PURE__*/_jsx(\"tbody\",{children:article&&article.slice(0,5).map(function(a){return/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:a.title})},a.id);})})]});};var ControlledTabs=function ControlledTabs(props){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),show=_React$useState2[0],setShow=_React$useState2[1];var article=props.article;return/*#__PURE__*/_jsx(Tab.Container,{id:\"left-tabs-example\",defaultActiveKey:\"first\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:2,children:/*#__PURE__*/_jsxs(Nav,{variant:\"pills\",className:\"flex-column\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"HotArticle\",active:show===\"HotArticle\",onMouseEnter:function onMouseEnter(){return setShow(\"HotArticle\");},onMouseLeave:function onMouseLeave(){return setShow(false);},onClick:function onClick(){props.props.history.push(\"/post/\".concat(show));},children:\"HOT \\uAC8C\\uC2DC\\uD310\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"FreeArticle\",active:show===\"FreeArticle\",onMouseEnter:function onMouseEnter(){return setShow(\"FreeArticle\");},onMouseLeave:function onMouseLeave(){return setShow(false);},onClick:function onClick(){props.props.history.push(\"/post/\".concat(show));},children:\"\\uC790\\uC720 \\uAC8C\\uC2DC\\uD310\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"InfoArticle\",active:show===\"InfoArticle\",onMouseEnter:function onMouseEnter(){return setShow(\"InfoArticle\");},onMouseLeave:function onMouseLeave(){return setShow(false);},onClick:function onClick(){props.props.history.push(\"/post/\".concat(show));},children:\"\\uC815\\uBCF4 \\uAC8C\\uC2DC\\uD310\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"MatchingArticle\",active:show===\"MatchingArticle\",onMouseEnter:function onMouseEnter(){return setShow(\"MatchingArticle\");},onMouseLeave:function onMouseLeave(){return setShow(false);},onClick:function onClick(){props.props.history.push(\"/post/\".concat(show));},children:\"\\uB9E4\\uCE6D \\uAC8C\\uC2DC\\uD310\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"AdvertiseArticle\",active:show===\"AdvertiseArticle\",onMouseEnter:function onMouseEnter(){return setShow(\"AdvertiseArticle\");},onMouseLeave:function onMouseLeave(){return setShow(false);},onClick:function onClick(){props.props.history.push(\"/post/\".concat(show));},children:\"\\uD64D\\uBCF4 \\uAC8C\\uC2DC\\uD310\"})})]})}),/*#__PURE__*/_jsx(Col,{sm:7,children:/*#__PURE__*/_jsxs(Tab.Content,{children:[/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"HotArticle\",active:show===\"HotArticle\",children:/*#__PURE__*/_jsx(ListArticle,{data:article})}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"FreeArticle\",active:show===\"FreeArticle\",children:/*#__PURE__*/_jsx(ListArticle,{data:article})}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"InfoArticle\",active:show===\"InfoArticle\",children:/*#__PURE__*/_jsx(ListArticle,{data:article})}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"MatchingArticle\",active:show===\"MatchingArticle\",children:/*#__PURE__*/_jsx(ListArticle,{data:article})}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"AdvertiseArticle\",active:show===\"AdvertiseArticle\",children:/*#__PURE__*/_jsx(ListArticle,{data:article})})]})}),/*#__PURE__*/_jsx(Col,{sm:3,children:/*#__PURE__*/_jsxs(Alert,{variant:\"dark\",children:[/*#__PURE__*/_jsx(Alert.Heading,{children:\"\\uC5C5\\uB370\\uC774\\uD2B8 \\uC911..\"}),/*#__PURE__*/_jsx(\"p\",{children:\"2021-06-03 \\uBA54\\uC778\\uD398\\uC774\\uC9C0 \\uC791\\uC5C5 \\uC644\\uB8CC\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"\\uCD94\\uAC00 \\uAE30\\uB2A5 \\uAD6C\\uD604\\uC911..\"})]})})]})});};var ControlledUserInfo=function ControlledUserInfo(props){var userData=props.userData,prop=props.prop;return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Card,{style:{width:\"100%\"},className:\"text-center\",children:[/*#__PURE__*/_jsx(Image,{variant:\"top\",src:\"./test.png\",style:{maxWidth:\"13rem\",padding:\"15px\"},roundedCircle:true,className:\"mx-auto\"}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:userData?userData.nickname:\"Null\"}),/*#__PURE__*/_jsx(Card.Text,{children:userData?userData.username:\"Null\"}),/*#__PURE__*/_jsx(Link,{to:\"/user\",children:/*#__PURE__*/_jsx(Button,{style:{margin:\"10px\"},children:\"\\uB0B4 \\uC815\\uBCF4\"})}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){localStorage.removeItem(\"TOKEN\");tokenData(null);prop.history.push(\"/login\");},children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})]}),/*#__PURE__*/_jsxs(ListGroup,{className:\"list-group-flush\",children:[/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(Card.Link,{href:\"#\",children:\"\\uB0B4\\uAC00 \\uC4F4 \\uAE00\"})}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(Card.Link,{href:\"#\",children:\"\\uB313\\uAE00 \\uB2E8 \\uAE00\"})})]})]})});};function Main(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),article=_useState2[0],setArticle=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];useEffect(function(){if(!tokenData())props.history.push(\"/login\");});useEffect(function(){if(tokenData()){GetUserInfo({data:tokenData(),setUserData:setUserData});GetArticle({data:tokenData(),setArticle:setArticle});}},[]);return/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsxs(Col,{md:12,style:{marginTop:\"1.5rem\"},children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:9,children:/*#__PURE__*/_jsxs(Jumbotron,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"HighSchool Time \\uACF5\\uC0AC\\uC911..\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD300\\uBA85 : \\uBC30\\uCD94\\uCD94\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD300\\uC6D0 : \\uBC30\\uC11C\\uD604, \\uBC15\\uC0C1\\uD638, \\uD669\\uC120\\uD615\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/notice\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",children:\"\\uACF5\\uC9C0\\uC0AC\\uD56D \\uD655\\uC778\"})})})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(ControlledUserInfo,{userData:userData,prop:props})})]}),/*#__PURE__*/_jsx(Row,{style:{marginTop:\"1.5rem\"},children:/*#__PURE__*/_jsx(Container,{style:{height:\"300px\"},fluid:true,children:/*#__PURE__*/_jsx(ControlledTabs,{props:props,article:article})})})]})});}export default Main;","map":{"version":3,"sources":["/Users/wk30815/Documents/Code/React/instagram/Final_HighteensTime/src/screens/Main.js"],"names":["React","useEffect","useRef","useState","styled","Tab","Carousel","Row","Col","Nav","Card","ListGroup","ListGroupItem","Container","Button","Image","LinkContainer","GetArticle","GetUserInfo","Table","Link","Alert","Jumbotron","Toast","tokenData","ListArticle","props","article","width","textAlign","slice","map","a","title","id","ControlledTabs","show","setShow","history","push","ControlledUserInfo","userData","prop","maxWidth","padding","nickname","username","margin","localStorage","removeItem","Main","setArticle","setUserData","data","marginTop","height"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport Tab from \"react-bootstrap/Tab\";\nimport Carousel from \"react-bootstrap/Carousel\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Card from \"react-bootstrap/Card\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport ListGroupItem from \"react-bootstrap/ListGroupItem\";\nimport Container from \"react-bootstrap/Container\";\nimport Button from \"react-bootstrap/Button\";\nimport Image from \"react-bootstrap/Image\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { GetArticle, GetUserInfo } from \"../utils/ApiConfig\";\nimport Table from \"react-bootstrap/Table\";\nimport { Link } from \"react-router-dom\";\nimport Alert from \"react-bootstrap/Alert\";\nimport { Jumbotron, Toast } from \"react-bootstrap\";\nimport { tokenData } from \"../Apollo\";\n\nconst ListArticle = (props) => {\n  const { article } = props;\n\n  return (\n    <Table bordered hover>\n      <thead>\n        <tr>\n          <th style={{ width: \"100%\", textAlign: \"center\" }}>제목</th>\n        </tr>\n      </thead>\n      <tbody>\n        {article &&\n          article.slice(0, 5).map((a) => {\n            return (\n              <tr key={a.id}>\n                <td style={{ textAlign: \"center\" }}>{a.title}</td>\n              </tr>\n            );\n          })}\n      </tbody>\n    </Table>\n  );\n};\n\nconst ControlledTabs = (props) => {\n  const [show, setShow] = React.useState(true);\n  const { article } = props;\n\n  return (\n    <Tab.Container id=\"left-tabs-example\" defaultActiveKey=\"first\">\n      <Row>\n        <Col sm={2}>\n          <Nav variant=\"pills\" className=\"flex-column\">\n            <Nav.Item>\n              <Nav.Link\n                eventKey=\"HotArticle\"\n                active={show === \"HotArticle\"}\n                onMouseEnter={() => setShow(\"HotArticle\")}\n                onMouseLeave={() => setShow(false)}\n                onClick={() => {\n                  props.props.history.push(`/post/${show}`);\n                }}\n              >\n                HOT 게시판\n              </Nav.Link>\n            </Nav.Item>\n\n            <Nav.Item>\n              <Nav.Link\n                eventKey=\"FreeArticle\"\n                active={show === \"FreeArticle\"}\n                onMouseEnter={() => setShow(\"FreeArticle\")}\n                onMouseLeave={() => setShow(false)}\n                onClick={() => {\n                  props.props.history.push(`/post/${show}`);\n                }}\n              >\n                자유 게시판\n              </Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link\n                eventKey=\"InfoArticle\"\n                active={show === \"InfoArticle\"}\n                onMouseEnter={() => setShow(\"InfoArticle\")}\n                onMouseLeave={() => setShow(false)}\n                onClick={() => {\n                  props.props.history.push(`/post/${show}`);\n                }}\n              >\n                정보 게시판\n              </Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link\n                eventKey=\"MatchingArticle\"\n                active={show === \"MatchingArticle\"}\n                onMouseEnter={() => setShow(\"MatchingArticle\")}\n                onMouseLeave={() => setShow(false)}\n                onClick={() => {\n                  props.props.history.push(`/post/${show}`);\n                }}\n              >\n                매칭 게시판\n              </Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link\n                eventKey=\"AdvertiseArticle\"\n                active={show === \"AdvertiseArticle\"}\n                onMouseEnter={() => setShow(\"AdvertiseArticle\")}\n                onMouseLeave={() => setShow(false)}\n                onClick={() => {\n                  props.props.history.push(`/post/${show}`);\n                }}\n              >\n                홍보 게시판\n              </Nav.Link>\n            </Nav.Item>\n          </Nav>\n        </Col>\n        <Col sm={7}>\n          <Tab.Content>\n            <Tab.Pane eventKey=\"HotArticle\" active={show === \"HotArticle\"}>\n              <ListArticle data={article} />\n            </Tab.Pane>\n            <Tab.Pane eventKey=\"FreeArticle\" active={show === \"FreeArticle\"}>\n              <ListArticle data={article} />\n            </Tab.Pane>\n            <Tab.Pane eventKey=\"InfoArticle\" active={show === \"InfoArticle\"}>\n              <ListArticle data={article} />\n            </Tab.Pane>\n            <Tab.Pane\n              eventKey=\"MatchingArticle\"\n              active={show === \"MatchingArticle\"}\n            >\n              <ListArticle data={article} />\n            </Tab.Pane>\n            <Tab.Pane\n              eventKey=\"AdvertiseArticle\"\n              active={show === \"AdvertiseArticle\"}\n            >\n              <ListArticle data={article} />\n            </Tab.Pane>\n          </Tab.Content>\n        </Col>\n        <Col sm={3}>\n          <Alert variant=\"dark\">\n            <Alert.Heading>업데이트 중..</Alert.Heading>\n            <p>2021-06-03 메인페이지 작업 완료</p>\n            <hr />\n            <p className=\"mb-0\">추가 기능 구현중..</p>\n          </Alert>\n        </Col>\n      </Row>\n    </Tab.Container>\n  );\n};\n\nconst ControlledUserInfo = (props) => {\n  const { userData, prop } = props;\n  return (\n    <Container>\n      <Card style={{ width: \"100%\" }} className=\"text-center\">\n        <Image\n          variant=\"top\"\n          src=\"./test.png\"\n          style={{ maxWidth: \"13rem\", padding: \"15px\" }}\n          roundedCircle\n          className=\"mx-auto\"\n        />\n\n        <Card.Body>\n          <Card.Title>{userData ? userData.nickname : \"Null\"}</Card.Title>\n          <Card.Text>{userData ? userData.username : \"Null\"}</Card.Text>\n          <Link to=\"/user\">\n            <Button style={{ margin: \"10px\" }}>내 정보</Button>\n          </Link>\n\n          <Button\n            onClick={() => {\n              localStorage.removeItem(\"TOKEN\");\n              tokenData(null);\n              prop.history.push(\"/login\");\n            }}\n          >\n            로그아웃\n          </Button>\n        </Card.Body>\n        <ListGroup className=\"list-group-flush\">\n          <ListGroupItem>\n            <Card.Link href=\"#\">내가 쓴 글</Card.Link>\n          </ListGroupItem>\n          <ListGroupItem>\n            <Card.Link href=\"#\">댓글 단 글</Card.Link>\n          </ListGroupItem>\n        </ListGroup>\n      </Card>\n    </Container>\n  );\n};\n\nfunction Main(props) {\n  const [article, setArticle] = useState(null);\n  const [userData, setUserData] = useState(null);\n\n  useEffect(() => {\n    if (!tokenData()) props.history.push(\"/login\");\n  });\n  useEffect(() => {\n    if (tokenData()) {\n      GetUserInfo({ data: tokenData(), setUserData: setUserData });\n      GetArticle({ data: tokenData(), setArticle: setArticle });\n    }\n  }, []);\n\n  return (\n    <Container fluid>\n      <Col md={12} style={{ marginTop: \"1.5rem\" }}>\n        <Row>\n          <Col md={9}>\n            <Jumbotron>\n              <h1>HighSchool Time 공사중..</h1>\n              <p>팀명 : 배추추</p>\n              <p>팀원 : 배서현, 박상호, 황선형</p>\n              <p>\n                <Link to=\"/notice\">\n                  <Button variant=\"primary\">공지사항 확인</Button>\n                </Link>\n              </p>\n            </Jumbotron>\n          </Col>\n          <Col md={3}>\n            <ControlledUserInfo userData={userData} prop={props} />\n          </Col>\n        </Row>\n\n        <Row style={{ marginTop: \"1.5rem\" }}>\n          <Container style={{ height: \"300px\" }} fluid>\n            <ControlledTabs props={props} article={article} />\n          </Container>\n        </Row>\n      </Col>\n    </Container>\n  );\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}