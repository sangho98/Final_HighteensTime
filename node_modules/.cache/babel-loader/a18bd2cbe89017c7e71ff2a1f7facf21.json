{"ast":null,"code":"var _jsxFileName = \"/Users/wk30815/Documents/Code/React/instagram/Final_HighteensTime/src/component/Header.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCommentDots, faPowerOff, faUserFriends } from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Form from \"react-bootstrap/Form\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Table from \"react-bootstrap/Table\";\nimport { GetMessage, SendMessage } from \"../utils/ApiConfig\";\nimport { Col } from \"react-bootstrap\";\nimport Logout from \"../screens/Logout\";\nimport Alert from \"react-bootstrap/Alert\";\nimport { Overlay, Tooltip } from \"react-bootstrap\";\nimport { tokenData } from \"../Apollo\";\nimport Friend from \"./Friend\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Headalign = styled.div`\n  width: 100%;\n  height: 60px;\n`;\n_c = Headalign;\n\nconst ListMessage = props => {\n  const {\n    message,\n    pageNum,\n    pageNumEnd,\n    setTypeModal,\n    setMessageId\n  } = props;\n  return /*#__PURE__*/_jsxDEV(Table, {\n    bordered: true,\n    hover: true,\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: \"\\uBC88\\uD638\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          style: {\n            width: \"93%\",\n            textAlign: \"center\"\n          },\n          children: \"\\uC81C\\uBAA9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: message.slice(pageNum, pageNumEnd).map(m => {\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              textAlign: \"center\"\n            },\n            children: m.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              textAlign: \"center\"\n            },\n            onClick: () => {\n              setTypeModal(\"2\");\n              setMessageId(m.id);\n            },\n            children: m.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this)]\n        }, m.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = ListMessage;\n\nconst MessageDetail = props => {\n  const {\n    message,\n    setTypeModal,\n    messageId\n  } = props;\n  return /*#__PURE__*/_jsxDEV(Table, {\n    bordered: true,\n    hover: true,\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: message.map(m => {\n        if (m.id === messageId) {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                width: \"10%\",\n                textAlign: \"center\"\n              },\n              children: \"\\uC81C\\uBAA9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                width: \"90%\",\n                textAlign: \"center\"\n              },\n              children: m.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this);\n        }\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: message.map(m => {\n        if (m.id === messageId) {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: \"center\"\n              },\n              children: \"\\uB0B4\\uC6A9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                textAlign: \"center\"\n              },\n              children: m.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 17\n            }, this)]\n          }, m.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this);\n        }\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n_c3 = MessageDetail;\n\nconst Test = props => {\n  const {\n    data,\n    message,\n    setCount,\n    setModalShow,\n    typeModal,\n    setTypeModal,\n    pageNum,\n    pageNumEnd,\n    setMessageId,\n    messageId\n  } = props;\n\n  if (typeModal === \"1\") {\n    return /*#__PURE__*/_jsxDEV(ListMessage, {\n      message: message,\n      pageNum: pageNum,\n      pageNumEnd: pageNumEnd,\n      setTypeModal: setTypeModal,\n      setMessageId: setMessageId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this);\n  } else if (typeModal === \"2\") {\n    return /*#__PURE__*/_jsxDEV(MessageDetail, {\n      message: message,\n      messageId: messageId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 12\n    }, this);\n  }\n};\n\n_c4 = Test;\n\nconst MessageShow = props => {\n  _s();\n\n  const {\n    data,\n    message,\n    setCount,\n    setModalShow,\n    typeModal,\n    setTypeModal,\n    prop\n  } = props;\n  const [pageNum, setPageNum] = useState(0);\n  const [pageNumEnd, setPageNumEnd] = useState(5);\n  const [show, setShow] = useState(true);\n  const [messageId, setMessageId] = useState(null);\n  const target = useRef(null);\n  return /*#__PURE__*/_jsxDEV(Modal, { ...props,\n    size: \"lg\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: typeModal === \"1\" || typeModal === \"2\" ? /*#__PURE__*/_jsxDEV(Modal.Title, {\n        id: \"contained-modal-title-vcenter\",\n        children: \"\\uCABD\\uC9C0\\uD568\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Modal.Title, {\n        id: \"contained-modal-title-vcenter\",\n        children: \"\\uCE5C\\uAD6C \\uBAA9\\uB85D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: typeModal === \"1\" || typeModal === \"2\" ? /*#__PURE__*/_jsxDEV(Test, {\n        message: message,\n        pageNum: pageNum,\n        pageNumEnd: pageNumEnd,\n        setTypeModal: setTypeModal,\n        setMessageId: setMessageId,\n        messageId: messageId,\n        typeModal: typeModal,\n        data: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"hi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: [typeModal === \"1\" ? /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          if (pageNum <= 0) {\n            setShow(!show);\n          } else {\n            setShow(false);\n            setPageNum(pageNum - 5);\n            setPageNumEnd(pageNumEnd - 5);\n          }\n        },\n        children: \"Prev\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this) : null, typeModal === \"1\" ? /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          setPageNum(pageNum + 5);\n          setPageNumEnd(pageNumEnd + 5);\n          setShow(!show);\n        },\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          setModalShow(false);\n          setCount(false);\n        },\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MessageShow, \"BgfELORxGrV2FD3hlNEoYkVqfh0=\");\n\n_c5 = MessageShow;\n\nfunction Header(props) {\n  _s2();\n\n  const [modalShow, setModalShow] = React.useState(false);\n  const [message, setMessage] = useState(null);\n  const [count, setCount] = useState(false);\n  const [show, setShow] = useState(false);\n  const [typeModal, setTypeModal] = useState(true);\n  const data = tokenData();\n\n  if (modalShow && !count) {\n    GetMessage({\n      data: data,\n      setMessage: setMessage\n    });\n\n    if (message) {\n      setCount(true);\n    }\n  }\n\n  if (props.history.location.pathname === \"/login\" || props.history.location.pathname === \"/register\") {\n    return null;\n  } else {\n    return /*#__PURE__*/_jsxDEV(Headalign, {\n      children: [/*#__PURE__*/_jsxDEV(\"clientSet\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), modalShow && message ? /*#__PURE__*/_jsxDEV(MessageShow, {\n        show: modalShow,\n        onHide: () => setModalShow(false),\n        data: data,\n        message: message,\n        typeModal: typeModal,\n        setCount: setCount,\n        setModalShow: setModalShow,\n        setTypeModal: setTypeModal,\n        prop: props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(Navbar, {\n        bg: \"secondary\",\n        variant: \"dark\",\n        style: {\n          height: \"60px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Navbar.Brand, {\n            children: \"Highteens Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Nav, {\n          className: \"mr-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faUserFriends,\n          style: {\n            paddingRight: \"13px\"\n          },\n          color: \"white\",\n          size: \"2x\",\n          onClick: () => {\n            setTypeModal(\"3\");\n            setModalShow(true);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faCommentDots,\n          style: {\n            paddingRight: \"13px\"\n          },\n          color: \"white\",\n          size: \"2x\",\n          onClick: () => {\n            setTypeModal(\"1\");\n            setModalShow(true);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faPowerOff,\n            style: {\n              paddingRight: \"13px\"\n            },\n            color: \"white\",\n            size: \"2x\",\n            onClick: () => {\n              localStorage.removeItem(\"TOKEN\");\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          inline: true,\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            type: \"text\",\n            placeholder: \"Search\",\n            className: \"mr-sm-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-light\",\n            children: \"\\uAC80\\uC0C9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s2(Header, \"Z29jDIxWfpSWhvM6PwasQvMRpRQ=\");\n\n_c6 = Header;\nexport default Header;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Headalign\");\n$RefreshReg$(_c2, \"ListMessage\");\n$RefreshReg$(_c3, \"MessageDetail\");\n$RefreshReg$(_c4, \"Test\");\n$RefreshReg$(_c5, \"MessageShow\");\n$RefreshReg$(_c6, \"Header\");","map":{"version":3,"sources":["/Users/wk30815/Documents/Code/React/instagram/Final_HighteensTime/src/component/Header.js"],"names":["React","useEffect","useRef","styled","FontAwesomeIcon","faCommentDots","faPowerOff","faUserFriends","Link","useState","Navbar","Nav","Form","FormControl","Button","Modal","Table","GetMessage","SendMessage","Col","Logout","Alert","Overlay","Tooltip","tokenData","Friend","Headalign","div","ListMessage","props","message","pageNum","pageNumEnd","setTypeModal","setMessageId","textAlign","width","slice","map","m","id","title","MessageDetail","messageId","content","Test","data","setCount","setModalShow","typeModal","MessageShow","prop","setPageNum","setPageNumEnd","show","setShow","target","Header","modalShow","setMessage","count","history","location","pathname","height","paddingRight","localStorage","removeItem"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SACEC,aADF,EAEEC,UAFF,EAGEC,aAHF,QAIO,mCAJP;AAKA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,oBAAxC;AACA,SAASC,GAAT,QAAoB,iBAApB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,iBAAjC;AACA,SAASC,SAAT,QAA0B,WAA1B;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,MAAMC,SAAS,GAAGvB,MAAM,CAACwB,GAAI;AAC7B;AACA;AACA,CAHA;KAAMD,S;;AAKN,MAAME,WAAW,GAAIC,KAAD,IAAW;AAC7B,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,OAAX;AAAoBC,IAAAA,UAApB;AAAgCC,IAAAA,YAAhC;AAA8CC,IAAAA;AAA9C,MAA+DL,KAArE;AAEA,sBACE,QAAC,KAAD;AAAO,IAAA,QAAQ,MAAf;AAAgB,IAAA,KAAK,MAArB;AAAA,4BACE;AAAA,6BACE;AAAA,gCACE;AAAI,UAAA,KAAK,EAAE;AAAEM,YAAAA,SAAS,EAAE;AAAb,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAI,UAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAE,KAAT;AAAgBD,YAAAA,SAAS,EAAE;AAA3B,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAOE;AAAA,gBACGL,OAAO,CAACO,KAAR,CAAcN,OAAd,EAAuBC,UAAvB,EAAmCM,GAAnC,CAAwCC,CAAD,IAAO;AAC7C,4BACE;AAAA,kCACE;AAAI,YAAA,KAAK,EAAE;AAAEJ,cAAAA,SAAS,EAAE;AAAb,aAAX;AAAA,sBAAqCI,CAAC,CAACC;AAAvC;AAAA;AAAA;AAAA;AAAA,kBADF,eAGE;AACE,YAAA,KAAK,EAAE;AAAEL,cAAAA,SAAS,EAAE;AAAb,aADT;AAEE,YAAA,OAAO,EAAE,MAAM;AACbF,cAAAA,YAAY,CAAC,GAAD,CAAZ;AACAC,cAAAA,YAAY,CAACK,CAAC,CAACC,EAAH,CAAZ;AACD,aALH;AAAA,sBAOGD,CAAC,CAACE;AAPL;AAAA;AAAA;AAAA;AAAA,kBAHF;AAAA,WAASF,CAAC,CAACC,EAAX;AAAA;AAAA;AAAA;AAAA,gBADF;AAeD,OAhBA;AADH;AAAA;AAAA;AAAA;AAAA,YAPF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA6BD,CAhCD;;MAAMZ,W;;AAkCN,MAAMc,aAAa,GAAIb,KAAD,IAAW;AAC/B,QAAM;AAAEC,IAAAA,OAAF;AAAWG,IAAAA,YAAX;AAAyBU,IAAAA;AAAzB,MAAuCd,KAA7C;AACA,sBACE,QAAC,KAAD;AAAO,IAAA,QAAQ,MAAf;AAAgB,IAAA,KAAK,MAArB;AAAA,4BACE;AAAA,gBACGC,OAAO,CAACQ,GAAR,CAAaC,CAAD,IAAO;AAClB,YAAIA,CAAC,CAACC,EAAF,KAASG,SAAb,EAAwB;AACtB,8BACE;AAAA,oCACE;AAAI,cAAA,KAAK,EAAE;AAAEP,gBAAAA,KAAK,EAAE,KAAT;AAAgBD,gBAAAA,SAAS,EAAE;AAA3B,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAI,cAAA,KAAK,EAAE;AAAEC,gBAAAA,KAAK,EAAE,KAAT;AAAgBD,gBAAAA,SAAS,EAAE;AAA3B,eAAX;AAAA,wBAAmDI,CAAC,CAACE;AAArD;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF;AAMD;AACF,OATA;AADH;AAAA;AAAA;AAAA;AAAA,YADF,eAaE;AAAA,gBACGX,OAAO,CAACQ,GAAR,CAAaC,CAAD,IAAO;AAClB,YAAIA,CAAC,CAACC,EAAF,KAASG,SAAb,EAAwB;AACtB,8BACE;AAAA,oCACE;AAAI,cAAA,KAAK,EAAE;AAAER,gBAAAA,SAAS,EAAE;AAAb,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAGE;AAAI,cAAA,KAAK,EAAE;AAAEA,gBAAAA,SAAS,EAAE;AAAb,eAAX;AAAA,wBAAqCI,CAAC,CAACK;AAAvC;AAAA;AAAA;AAAA;AAAA,oBAHF;AAAA,aAASL,CAAC,CAACC,EAAX;AAAA;AAAA;AAAA;AAAA,kBADF;AAOD;AACF,OAVA;AADH;AAAA;AAAA;AAAA;AAAA,YAbF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA6BD,CA/BD;;MAAME,a;;AAiCN,MAAMG,IAAI,GAAIhB,KAAD,IAAW;AACtB,QAAM;AACJiB,IAAAA,IADI;AAEJhB,IAAAA,OAFI;AAGJiB,IAAAA,QAHI;AAIJC,IAAAA,YAJI;AAKJC,IAAAA,SALI;AAMJhB,IAAAA,YANI;AAOJF,IAAAA,OAPI;AAQJC,IAAAA,UARI;AASJE,IAAAA,YATI;AAUJS,IAAAA;AAVI,MAWFd,KAXJ;;AAaA,MAAIoB,SAAS,KAAK,GAAlB,EAAuB;AACrB,wBACE,QAAC,WAAD;AACE,MAAA,OAAO,EAAEnB,OADX;AAEE,MAAA,OAAO,EAAEC,OAFX;AAGE,MAAA,UAAU,EAAEC,UAHd;AAIE,MAAA,YAAY,EAAEC,YAJhB;AAKE,MAAA,YAAY,EAAEC;AALhB;AAAA;AAAA;AAAA;AAAA,YADF;AASD,GAVD,MAUO,IAAIe,SAAS,KAAK,GAAlB,EAAuB;AAC5B,wBAAO,QAAC,aAAD;AAAe,MAAA,OAAO,EAAEnB,OAAxB;AAAiC,MAAA,SAAS,EAAEa;AAA5C;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;AACF,CA3BD;;MAAME,I;;AA6BN,MAAMK,WAAW,GAAIrB,KAAD,IAAW;AAAA;;AAC7B,QAAM;AACJiB,IAAAA,IADI;AAEJhB,IAAAA,OAFI;AAGJiB,IAAAA,QAHI;AAIJC,IAAAA,YAJI;AAKJC,IAAAA,SALI;AAMJhB,IAAAA,YANI;AAOJkB,IAAAA;AAPI,MAQFtB,KARJ;AASA,QAAM,CAACE,OAAD,EAAUqB,UAAV,IAAwB3C,QAAQ,CAAC,CAAD,CAAtC;AACA,QAAM,CAACuB,UAAD,EAAaqB,aAAb,IAA8B5C,QAAQ,CAAC,CAAD,CAA5C;AACA,QAAM,CAAC6C,IAAD,EAAOC,OAAP,IAAkB9C,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAM,CAACkC,SAAD,EAAYT,YAAZ,IAA4BzB,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM+C,MAAM,GAAGtD,MAAM,CAAC,IAAD,CAArB;AAEA,sBACE,QAAC,KAAD,OACM2B,KADN;AAEE,IAAA,IAAI,EAAC,IAFP;AAGE,uBAAgB,+BAHlB;AAIE,IAAA,QAAQ,MAJV;AAAA,4BAME,QAAC,KAAD,CAAO,MAAP;AAAc,MAAA,WAAW,MAAzB;AAAA,gBACGoB,SAAS,KAAK,GAAd,IAAqBA,SAAS,KAAK,GAAnC,gBACC,QAAC,KAAD,CAAO,KAAP;AAAa,QAAA,EAAE,EAAC,+BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,gBAGC,QAAC,KAAD,CAAO,KAAP;AAAa,QAAA,EAAE,EAAC,+BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,YANF,eAeE,QAAC,KAAD,CAAO,IAAP;AAAA,gBACGA,SAAS,KAAK,GAAd,IAAqBA,SAAS,KAAK,GAAnC,gBACC,QAAC,IAAD;AACE,QAAA,OAAO,EAAEnB,OADX;AAEE,QAAA,OAAO,EAAEC,OAFX;AAGE,QAAA,UAAU,EAAEC,UAHd;AAIE,QAAA,YAAY,EAAEC,YAJhB;AAKE,QAAA,YAAY,EAAEC,YALhB;AAME,QAAA,SAAS,EAAES,SANb;AAOE,QAAA,SAAS,EAAEM,SAPb;AAQE,QAAA,IAAI,EAAEH;AARR;AAAA;AAAA;AAAA;AAAA,cADD,gBAYC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAbJ;AAAA;AAAA;AAAA;AAAA,YAfF,eA+BE,QAAC,KAAD,CAAO,MAAP;AAAA,iBACGG,SAAS,KAAK,GAAd,gBACC,QAAC,MAAD;AACE,QAAA,OAAO,EAAE,MAAM;AACb,cAAIlB,OAAO,IAAI,CAAf,EAAkB;AAChBwB,YAAAA,OAAO,CAAC,CAACD,IAAF,CAAP;AACD,WAFD,MAEO;AACLC,YAAAA,OAAO,CAAC,KAAD,CAAP;AACAH,YAAAA,UAAU,CAACrB,OAAO,GAAG,CAAX,CAAV;AACAsB,YAAAA,aAAa,CAACrB,UAAU,GAAG,CAAd,CAAb;AACD;AACF,SATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,GAcG,IAfN,EAgBGiB,SAAS,KAAK,GAAd,gBACC,QAAC,MAAD;AACE,QAAA,OAAO,EAAE,MAAM;AACbG,UAAAA,UAAU,CAACrB,OAAO,GAAG,CAAX,CAAV;AACAsB,UAAAA,aAAa,CAACrB,UAAU,GAAG,CAAd,CAAb;AACAuB,UAAAA,OAAO,CAAC,CAACD,IAAF,CAAP;AACD,SALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,GAUG,IA1BN,eA4BE,QAAC,MAAD;AACE,QAAA,OAAO,EAAE,MAAM;AACbN,UAAAA,YAAY,CAAC,KAAD,CAAZ;AACAD,UAAAA,QAAQ,CAAC,KAAD,CAAR;AACD,SAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA5BF;AAAA;AAAA;AAAA;AAAA;AAAA,YA/BF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAuED,CAvFD;;GAAMG,W;;MAAAA,W;;AAyFN,SAASO,MAAT,CAAgB5B,KAAhB,EAAuB;AAAA;;AACrB,QAAM,CAAC6B,SAAD,EAAYV,YAAZ,IAA4BhD,KAAK,CAACS,QAAN,CAAe,KAAf,CAAlC;AACA,QAAM,CAACqB,OAAD,EAAU6B,UAAV,IAAwBlD,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACmD,KAAD,EAAQb,QAAR,IAAoBtC,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAAC6C,IAAD,EAAOC,OAAP,IAAkB9C,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACwC,SAAD,EAAYhB,YAAZ,IAA4BxB,QAAQ,CAAC,IAAD,CAA1C;AAEA,QAAMqC,IAAI,GAAGtB,SAAS,EAAtB;;AAEA,MAAIkC,SAAS,IAAI,CAACE,KAAlB,EAAyB;AACvB3C,IAAAA,UAAU,CAAC;AAAE6B,MAAAA,IAAI,EAAEA,IAAR;AAAca,MAAAA,UAAU,EAAEA;AAA1B,KAAD,CAAV;;AACA,QAAI7B,OAAJ,EAAa;AACXiB,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;AACF;;AAED,MACElB,KAAK,CAACgC,OAAN,CAAcC,QAAd,CAAuBC,QAAvB,KAAoC,QAApC,IACAlC,KAAK,CAACgC,OAAN,CAAcC,QAAd,CAAuBC,QAAvB,KAAoC,WAFtC,EAGE;AACA,WAAO,IAAP;AACD,GALD,MAKO;AACL,wBACE,QAAC,SAAD;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA,cADF,EAEGL,SAAS,IAAI5B,OAAb,gBACC,QAAC,WAAD;AACE,QAAA,IAAI,EAAE4B,SADR;AAEE,QAAA,MAAM,EAAE,MAAMV,YAAY,CAAC,KAAD,CAF5B;AAGE,QAAA,IAAI,EAAEF,IAHR;AAIE,QAAA,OAAO,EAAEhB,OAJX;AAKE,QAAA,SAAS,EAAEmB,SALb;AAME,QAAA,QAAQ,EAAEF,QANZ;AAOE,QAAA,YAAY,EAAEC,YAPhB;AAQE,QAAA,YAAY,EAAEf,YARhB;AASE,QAAA,IAAI,EAAEJ;AATR;AAAA;AAAA;AAAA;AAAA,cADD,GAYG,IAdN,eAgBE,QAAC,MAAD;AAAQ,QAAA,EAAE,EAAC,WAAX;AAAuB,QAAA,OAAO,EAAC,MAA/B;AAAsC,QAAA,KAAK,EAAE;AAAEmC,UAAAA,MAAM,EAAE;AAAV,SAA7C;AAAA,gCACE,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,GAAT;AAAA,iCACE,QAAC,MAAD,CAAQ,KAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE,QAAC,GAAD;AAAK,UAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE,QAAC,eAAD;AACE,UAAA,IAAI,EAAEzD,aADR;AAEE,UAAA,KAAK,EAAE;AAAE0D,YAAAA,YAAY,EAAE;AAAhB,WAFT;AAGE,UAAA,KAAK,EAAC,OAHR;AAIE,UAAA,IAAI,EAAC,IAJP;AAKE,UAAA,OAAO,EAAE,MAAM;AACbhC,YAAAA,YAAY,CAAC,GAAD,CAAZ;AACAe,YAAAA,YAAY,CAAC,IAAD,CAAZ;AACD;AARH;AAAA;AAAA;AAAA;AAAA,gBALF,eAeE,QAAC,eAAD;AACE,UAAA,IAAI,EAAE3C,aADR;AAEE,UAAA,KAAK,EAAE;AAAE4D,YAAAA,YAAY,EAAE;AAAhB,WAFT;AAGE,UAAA,KAAK,EAAC,OAHR;AAIE,UAAA,IAAI,EAAC,IAJP;AAKE,UAAA,OAAO,EAAE,MAAM;AACbhC,YAAAA,YAAY,CAAC,GAAD,CAAZ;AACAe,YAAAA,YAAY,CAAC,IAAD,CAAZ;AACD;AARH;AAAA;AAAA;AAAA;AAAA,gBAfF,eA0BE,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,QAAT;AAAA,iCACE,QAAC,eAAD;AACE,YAAA,IAAI,EAAE1C,UADR;AAEE,YAAA,KAAK,EAAE;AAAE2D,cAAAA,YAAY,EAAE;AAAhB,aAFT;AAGE,YAAA,KAAK,EAAC,OAHR;AAIE,YAAA,IAAI,EAAC,IAJP;AAKE,YAAA,OAAO,EAAE,MAAM;AACbC,cAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACD;AAPH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBA1BF,eAqCE,QAAC,IAAD;AAAM,UAAA,MAAM,MAAZ;AAAA,kCACE,QAAC,WAAD;AAAa,YAAA,IAAI,EAAC,MAAlB;AAAyB,YAAA,WAAW,EAAC,QAArC;AAA8C,YAAA,SAAS,EAAC;AAAxD;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBArCF;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AA6DD;AACF;;IApFQV,M;;MAAAA,M;AAsFT,eAAeA,MAAf","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faCommentDots,\n  faPowerOff,\n  faUserFriends,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Form from \"react-bootstrap/Form\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Table from \"react-bootstrap/Table\";\nimport { GetMessage, SendMessage } from \"../utils/ApiConfig\";\nimport { Col } from \"react-bootstrap\";\nimport Logout from \"../screens/Logout\";\nimport Alert from \"react-bootstrap/Alert\";\nimport { Overlay, Tooltip } from \"react-bootstrap\";\nimport { tokenData } from \"../Apollo\";\nimport Friend from \"./Friend\";\n\nconst Headalign = styled.div`\n  width: 100%;\n  height: 60px;\n`;\n\nconst ListMessage = (props) => {\n  const { message, pageNum, pageNumEnd, setTypeModal, setMessageId } = props;\n\n  return (\n    <Table bordered hover>\n      <thead>\n        <tr>\n          <th style={{ textAlign: \"center\" }}>번호</th>\n          <th style={{ width: \"93%\", textAlign: \"center\" }}>제목</th>\n        </tr>\n      </thead>\n      <tbody>\n        {message.slice(pageNum, pageNumEnd).map((m) => {\n          return (\n            <tr key={m.id}>\n              <td style={{ textAlign: \"center\" }}>{m.id}</td>\n\n              <td\n                style={{ textAlign: \"center\" }}\n                onClick={() => {\n                  setTypeModal(\"2\");\n                  setMessageId(m.id);\n                }}\n              >\n                {m.title}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </Table>\n  );\n};\n\nconst MessageDetail = (props) => {\n  const { message, setTypeModal, messageId } = props;\n  return (\n    <Table bordered hover>\n      <thead>\n        {message.map((m) => {\n          if (m.id === messageId) {\n            return (\n              <tr>\n                <th style={{ width: \"10%\", textAlign: \"center\" }}>제목</th>\n                <td style={{ width: \"90%\", textAlign: \"center\" }}>{m.title}</td>\n              </tr>\n            );\n          }\n        })}\n      </thead>\n      <tbody>\n        {message.map((m) => {\n          if (m.id === messageId) {\n            return (\n              <tr key={m.id}>\n                <th style={{ textAlign: \"center\" }}>내용</th>\n\n                <td style={{ textAlign: \"center\" }}>{m.content}</td>\n              </tr>\n            );\n          }\n        })}\n      </tbody>\n    </Table>\n  );\n};\n\nconst Test = (props) => {\n  const {\n    data,\n    message,\n    setCount,\n    setModalShow,\n    typeModal,\n    setTypeModal,\n    pageNum,\n    pageNumEnd,\n    setMessageId,\n    messageId,\n  } = props;\n\n  if (typeModal === \"1\") {\n    return (\n      <ListMessage\n        message={message}\n        pageNum={pageNum}\n        pageNumEnd={pageNumEnd}\n        setTypeModal={setTypeModal}\n        setMessageId={setMessageId}\n      />\n    );\n  } else if (typeModal === \"2\") {\n    return <MessageDetail message={message} messageId={messageId} />;\n  }\n};\n\nconst MessageShow = (props) => {\n  const {\n    data,\n    message,\n    setCount,\n    setModalShow,\n    typeModal,\n    setTypeModal,\n    prop,\n  } = props;\n  const [pageNum, setPageNum] = useState(0);\n  const [pageNumEnd, setPageNumEnd] = useState(5);\n  const [show, setShow] = useState(true);\n  const [messageId, setMessageId] = useState(null);\n  const target = useRef(null);\n\n  return (\n    <Modal\n      {...props}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        {typeModal === \"1\" || typeModal === \"2\" ? (\n          <Modal.Title id=\"contained-modal-title-vcenter\">쪽지함</Modal.Title>\n        ) : (\n          <Modal.Title id=\"contained-modal-title-vcenter\">\n            친구 목록\n          </Modal.Title>\n        )}\n      </Modal.Header>\n      <Modal.Body>\n        {typeModal === \"1\" || typeModal === \"2\" ? (\n          <Test\n            message={message}\n            pageNum={pageNum}\n            pageNumEnd={pageNumEnd}\n            setTypeModal={setTypeModal}\n            setMessageId={setMessageId}\n            messageId={messageId}\n            typeModal={typeModal}\n            data={data}\n          />\n        ) : (\n          <div>hi</div>\n        )}\n      </Modal.Body>\n      <Modal.Footer>\n        {typeModal === \"1\" ? (\n          <Button\n            onClick={() => {\n              if (pageNum <= 0) {\n                setShow(!show);\n              } else {\n                setShow(false);\n                setPageNum(pageNum - 5);\n                setPageNumEnd(pageNumEnd - 5);\n              }\n            }}\n          >\n            Prev\n          </Button>\n        ) : null}\n        {typeModal === \"1\" ? (\n          <Button\n            onClick={() => {\n              setPageNum(pageNum + 5);\n              setPageNumEnd(pageNumEnd + 5);\n              setShow(!show);\n            }}\n          >\n            Next\n          </Button>\n        ) : null}\n\n        <Button\n          onClick={() => {\n            setModalShow(false);\n            setCount(false);\n          }}\n        >\n          Close\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nfunction Header(props) {\n  const [modalShow, setModalShow] = React.useState(false);\n  const [message, setMessage] = useState(null);\n  const [count, setCount] = useState(false);\n  const [show, setShow] = useState(false);\n  const [typeModal, setTypeModal] = useState(true);\n\n  const data = tokenData();\n\n  if (modalShow && !count) {\n    GetMessage({ data: data, setMessage: setMessage });\n    if (message) {\n      setCount(true);\n    }\n  }\n\n  if (\n    props.history.location.pathname === \"/login\" ||\n    props.history.location.pathname === \"/register\"\n  ) {\n    return null;\n  } else {\n    return (\n      <Headalign>\n        <clientSet></clientSet>\n        {modalShow && message ? (\n          <MessageShow\n            show={modalShow}\n            onHide={() => setModalShow(false)}\n            data={data}\n            message={message}\n            typeModal={typeModal}\n            setCount={setCount}\n            setModalShow={setModalShow}\n            setTypeModal={setTypeModal}\n            prop={props}\n          ></MessageShow>\n        ) : null}\n\n        <Navbar bg=\"secondary\" variant=\"dark\" style={{ height: \"60px\" }}>\n          <Link to=\"/\">\n            <Navbar.Brand>Highteens Time</Navbar.Brand>\n          </Link>\n          <Nav className=\"mr-auto\"></Nav>\n          <FontAwesomeIcon\n            icon={faUserFriends}\n            style={{ paddingRight: \"13px\" }}\n            color=\"white\"\n            size=\"2x\"\n            onClick={() => {\n              setTypeModal(\"3\");\n              setModalShow(true);\n            }}\n          ></FontAwesomeIcon>\n          <FontAwesomeIcon\n            icon={faCommentDots}\n            style={{ paddingRight: \"13px\" }}\n            color=\"white\"\n            size=\"2x\"\n            onClick={() => {\n              setTypeModal(\"1\");\n              setModalShow(true);\n            }}\n          ></FontAwesomeIcon>\n\n          <Link to=\"/login\">\n            <FontAwesomeIcon\n              icon={faPowerOff}\n              style={{ paddingRight: \"13px\" }}\n              color=\"white\"\n              size=\"2x\"\n              onClick={() => {\n                localStorage.removeItem(\"TOKEN\");\n              }}\n            ></FontAwesomeIcon>\n          </Link>\n          <Form inline>\n            <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\n            <Button variant=\"outline-light\">검색</Button>\n          </Form>\n        </Navbar>\n      </Headalign>\n    );\n  }\n}\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}