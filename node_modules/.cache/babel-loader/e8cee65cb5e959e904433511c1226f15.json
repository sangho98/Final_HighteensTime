{"ast":null,"code":"var _jsxFileName = \"/Users/wk30815/Documents/Code/React/instagram/Final_HighteensTime/src/screens/UserInfo.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { Container, Row, Col, Form, Button, Overlay, Tooltip, OverlayTrigger } from \"react-bootstrap\";\nimport { GetUserInfo, PutUserInfo } from \"../utils/ApiConfig\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UserInfo(props) {\n  _s();\n\n  const {\n    data\n  } = props;\n  const [userData, setUserData] = useState(null);\n  const [newNickname, setNewNickname] = useState(null);\n  const [newPassword, setNewPassword] = useState(null);\n  const [prevPassword, setPrevPassword] = useState(null);\n  const [correctPassword, setCorrectPassword] = useState(true);\n  const target = useRef(null);\n  console.log(props);\n  GetUserInfo({\n    data: JSON.parse(localStorage.getItem(\"TOKEN\")),\n    setUserData: setUserData\n  });\n  console.log(\"this\");\n  console.log(\"hi\");\n\n  const onChangePrevPassword = e => {\n    setPrevPassword(e.target.value);\n  };\n\n  const onChangeNewPassword = e => {\n    setNewPassword(e.target.value);\n  };\n\n  const onChangeNewNickname = e => {\n    setNewNickname(e.target.value);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    await PutUserInfo({\n      nickname: newNickname,\n      password: newPassword\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        marginTop: \"2rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: {\n          offset: 2,\n          span: 8\n        },\n        style: {\n          borderBottom: \"1px solid gray\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uB9C8\\uC774 \\uD398\\uC774\\uC9C0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        marginTop: \"2rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: {\n          offset: 2,\n          span: 8\n        },\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Row, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              controlId: \"formPlaintextEmail\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                plaintext: true,\n                readOnly: true,\n                defaultValue: userData && userData.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"\\uC774\\uB984\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                plaintext: true,\n                readOnly: true,\n                defaultValue: userData && userData.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"\\uB2C9\\uB124\\uC784\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                placeholder: `현재 닉네임 : ${userData && userData.nickname}`,\n                onChange: onChangeNewNickname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              controlId: \"formGridPassword\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"\\uD604\\uC7AC \\uBE44\\uBC00\\uBC88\\uD638\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"password\",\n                placeholder: \"\\uD604\\uC7AC \\uBE44\\uBC00\\uBC88\\uD638\",\n                onChange: onChangePrevPassword,\n                ref: target\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Overlay, {\n              target: target.current,\n              show: correctPassword,\n              placement: \"top\",\n              children: props => /*#__PURE__*/_jsxDEV(Tooltip, {\n                id: \"overlay-example\",\n                ...props,\n                children: \"\\uC774\\uC804 \\uBE44\\uBC00\\uBC88\\uD638\\uC640 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Overlay, {\n              target: target.current,\n              show: !correctPassword,\n              placement: \"top\",\n              children: props => /*#__PURE__*/_jsxDEV(Tooltip, {\n                id: \"overlay-example\",\n                ...props,\n                children: \"\\uC774\\uC804 \\uBE44\\uBC00\\uBC88\\uD638\\uC640 \\uC77C\\uCE58\\uD569\\uB2C8\\uB2E4!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              controlId: \"formGridPassword\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"\\uBCC0\\uACBD \\uBE44\\uBC00\\uBC88\\uD638\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"password\",\n                placeholder: \"\\uBCC0\\uACBD\\uD560 \\uBE44\\uBC00\\uBC88\\uD638\",\n                onChange: onChangeNewPassword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                className: \"my-1 mr-2\",\n                htmlFor: \"inlineFormCustomSelectPref\",\n                children: \"\\uC9C0\\uC5ED\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"select\",\n                className: \"my-1 mr-sm-2\",\n                id: \"inlineFormCustomSelectPref\",\n                custom: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"0\",\n                  children: [\"\\uD604\\uC7AC \\uC9C0\\uC5ED : \", userData && userData.region]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"1\",\n                  children: \"\\uC11C\\uC6B8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"2\",\n                  children: \"\\uC778\\uCC9C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"3\",\n                  children: \"\\uC775\\uC0B0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"3\",\n                  children: \"\\uC815\\uC74D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n            as: Col,\n            children: !correctPassword && newNickname !== null ? /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              onClick: e => {\n                handleSubmit(e);\n                window.location.href = \"/\";\n              },\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Button, {\n              disabled: \"true\",\n              variant: \"primary\",\n              type: \"submit\",\n              onClick: () => {\n                handleSubmit();\n              },\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserInfo, \"oQFLQUSODfNCaX2q05hxeZhKGac=\");\n\n_c = UserInfo;\nexport default UserInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserInfo\");","map":{"version":3,"sources":["/Users/wk30815/Documents/Code/React/instagram/Final_HighteensTime/src/screens/UserInfo.js"],"names":["React","useEffect","useState","useRef","Container","Row","Col","Form","Button","Overlay","Tooltip","OverlayTrigger","GetUserInfo","PutUserInfo","UserInfo","props","data","userData","setUserData","newNickname","setNewNickname","newPassword","setNewPassword","prevPassword","setPrevPassword","correctPassword","setCorrectPassword","target","console","log","JSON","parse","localStorage","getItem","onChangePrevPassword","e","value","onChangeNewPassword","onChangeNewNickname","handleSubmit","preventDefault","nickname","password","marginTop","offset","span","borderBottom","email","username","current","region","window","location","href"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Form,\n  Button,\n  Overlay,\n  Tooltip,\n  OverlayTrigger,\n} from \"react-bootstrap\";\nimport { GetUserInfo, PutUserInfo } from \"../utils/ApiConfig\";\n\nfunction UserInfo(props) {\n  const { data } = props;\n  const [userData, setUserData] = useState(null);\n  const [newNickname, setNewNickname] = useState(null);\n  const [newPassword, setNewPassword] = useState(null);\n  const [prevPassword, setPrevPassword] = useState(null);\n\n  const [correctPassword, setCorrectPassword] = useState(true);\n\n  const target = useRef(null);\n  console.log(props);\n  GetUserInfo({\n    data: JSON.parse(localStorage.getItem(\"TOKEN\")),\n    setUserData: setUserData,\n  });\n  console.log(\"this\");\n\n  console.log(\"hi\");\n\n  const onChangePrevPassword = (e) => {\n    setPrevPassword(e.target.value);\n  };\n  const onChangeNewPassword = (e) => {\n    setNewPassword(e.target.value);\n  };\n  const onChangeNewNickname = (e) => {\n    setNewNickname(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await PutUserInfo({\n      nickname: newNickname,\n      password: newPassword,\n    });\n  };\n\n  return (\n    <Container fluid>\n      <Row style={{ marginTop: \"2rem\" }}>\n        <Col\n          md={{ offset: 2, span: 8 }}\n          style={{ borderBottom: \"1px solid gray\" }}\n        >\n          <h1>마이 페이지</h1>\n        </Col>\n      </Row>\n      <Row style={{ marginTop: \"2rem\" }}>\n        <Col md={{ offset: 2, span: 8 }}>\n          <Form>\n            <Form.Row>\n              <Form.Group as={Col} controlId=\"formPlaintextEmail\">\n                <Form.Label>Email</Form.Label>\n                <Form.Control\n                  plaintext\n                  readOnly\n                  defaultValue={userData && userData.email}\n                />\n              </Form.Group>\n              <Form.Group as={Col}>\n                <Form.Label>이름</Form.Label>\n                <Form.Control\n                  plaintext\n                  readOnly\n                  defaultValue={userData && userData.username}\n                />\n              </Form.Group>\n              <Form.Group as={Col}>\n                <Form.Label>닉네임</Form.Label>\n                <Form.Control\n                  placeholder={`현재 닉네임 : ${userData && userData.nickname}`}\n                  onChange={onChangeNewNickname}\n                />\n              </Form.Group>\n            </Form.Row>\n            <Form.Row>\n              <Form.Group as={Col} controlId=\"formGridPassword\">\n                <Form.Label>현재 비밀번호</Form.Label>\n                <Form.Control\n                  type=\"password\"\n                  placeholder=\"현재 비밀번호\"\n                  onChange={onChangePrevPassword}\n                  ref={target}\n                />\n              </Form.Group>\n              <Overlay\n                target={target.current}\n                show={correctPassword}\n                placement=\"top\"\n              >\n                {(props) => (\n                  <Tooltip id=\"overlay-example\" {...props}>\n                    이전 비밀번호와 일치하지 않습니다.\n                  </Tooltip>\n                )}\n              </Overlay>\n              <Overlay\n                target={target.current}\n                show={!correctPassword}\n                placement=\"top\"\n              >\n                {(props) => (\n                  <Tooltip id=\"overlay-example\" {...props}>\n                    이전 비밀번호와 일치합니다!\n                  </Tooltip>\n                )}\n              </Overlay>\n              <Form.Group as={Col} controlId=\"formGridPassword\">\n                <Form.Label>변경 비밀번호</Form.Label>\n                <Form.Control\n                  type=\"password\"\n                  placeholder=\"변경할 비밀번호\"\n                  onChange={onChangeNewPassword}\n                />\n              </Form.Group>\n            </Form.Row>\n\n            <Form.Row>\n              <Form.Group as={Col}>\n                <Form.Label\n                  className=\"my-1 mr-2\"\n                  htmlFor=\"inlineFormCustomSelectPref\"\n                >\n                  지역\n                </Form.Label>\n                <Form.Control\n                  as=\"select\"\n                  className=\"my-1 mr-sm-2\"\n                  id=\"inlineFormCustomSelectPref\"\n                  custom\n                >\n                  <option value=\"0\">\n                    현재 지역 : {userData && userData.region}\n                  </option>\n                  <option value=\"1\">서울</option>\n                  <option value=\"2\">인천</option>\n                  <option value=\"3\">익산</option>\n                  <option value=\"3\">정읍</option>\n                </Form.Control>\n              </Form.Group>\n            </Form.Row>\n            <Form.Row as={Col}>\n              {!correctPassword && newNickname !== null ? (\n                <Button\n                  variant=\"primary\"\n                  type=\"submit\"\n                  onClick={(e) => {\n                    handleSubmit(e);\n                    window.location.href = \"/\";\n                  }}\n                >\n                  Submit\n                </Button>\n              ) : (\n                <Button\n                  disabled=\"true\"\n                  variant=\"primary\"\n                  type=\"submit\"\n                  onClick={() => {\n                    handleSubmit();\n                  }}\n                >\n                  Submit\n                </Button>\n              )}\n            </Form.Row>\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default UserInfo;\n"]},"metadata":{},"sourceType":"module"}